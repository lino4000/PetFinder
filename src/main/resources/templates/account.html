<!doctype html>
<html lang="pt-br">
	<head>
		<meta charset=utf-8>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>PetFinder</title>
		<link rel="stylesheet" href="/theme/style.css">
		<link rel="shortcut icon" href="/theme/favicon.png" />
		<script src="https://cdn.tiny.cloud/1/qotp9d9bbhr8loctx4v5tyxkas21jbbrgegql3sb2qks7k3w/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
		<script type="text/javascript" src="/js/functions.js"></script>
	</head>
	<body class="dark dashboard account">
		<div id="responser" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title"></h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<p class="comment"></p>
					</div>
				</div>
			</div>
		</div>
		<div id="form-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Nova senha</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<form class="json"  onsubmit="formModal.toggle();" th:action="@{user/change-password}" th:object="${user}" method="post">
							<div class="mb-3">
								<label for="password1" class="form-label">Senha</label>
								<span class="input-group-text bi bi-envelope-fill">
								</span>
								<input type="password" class="form-control" id="password1" aria-describedby="password1Help" th:field="*{password}" >
							</div>
							<div class="mb-3">
								<label for="password2" class="form-label">Confirmar senha</label>
								<span class="input-group-text bi bi-envelope-fill">
								</span>
								<input type="password" class="form-control" id="password2" aria-describedby="password2Help" th:field="*{passwordConfirmation}" >
							</div>
							<div class="mb-3">
								<input type="submit" class="btn btn-secondary w-100 text-light" value="Salvar alteração" />
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<header class="container-flex">
			<div class="row justify-content-center align-items-center g-0">
				<div class="col-1 logo pt-3 pb-4">
					<img src="/img/logo.png" />
				</div>
			</div>
		</header>
		<main class="wrapper container">
			<div class="row my-3 justify-content-center align-items-center">
				<nav aria-label="breadcrumb" class="hstack">
					<ol class="breadcrumb p-2 rounded w-100">
						<li class="breadcrumb-item"><a href="/dashboard/welcome">Dashboard</a></li>
						<li class="breadcrumb-item active" aria-current="page">Conta</li>
					</ol>
					<form action="/logout" method="post" class="logout mx-3 mb-3">
						<label for="logout" class="text-nowrap bi bi-box-arrow-right">Sair</label>
						<input type="submit" id="logout" class="d-none" value="Sair" />
					</form>
				</nav>
			</div>
			<div class="row justify-content-center align-items-center">
				<form class="json col-6" th:action="@{user/change-username}" th:object="${user}" method="post">
					<div class="mb-3">
						<label for="user" class="form-label">Usuário</label>
						<span class="input-group-text bi bi-person-fill">
						</span>
						<input type="text" class="form-control" id="user" aria-describedby="userlHelp" th:field="*{username}" th:value="${user.username}" />
					</div>
					<div class="mb-3">
						<input type="submit" class="btn btn-secondary w-100 text-light" value="Salvar alteraçãos" />
					</div>
				</form>
				<form class="json col-6" th:action="@{user/change-email}" th:object="${user}" method="post">
					<div class="mb-3">
						<label for="email" class="form-label">Email</label>
						<span class="input-group-text bi bi-envelope-fill">
						</span>
						<input type="email" class="form-control" id="email" aria-describedby="emailHelp" th:field="*{email}" th:value="${user.email}" />
					</div>
					<div class="mb-3">
						<input type="submit" class="btn btn-secondary w-100 text-light" value="Salvar alteração" />
					</div>
				</form>
				<form class="json col-12" th:action="@{user/change-info}" th:object="${user}" method="post">
					<div class="mb-3">
						<label for="info" class="form-label">Informações de contato</label>
						<textarea rows="9" cols="150" class="form-control" id="info" aria-describedby="infoHelp" th:field="*{info}">[(${user.info})]</textarea>
					</div>
					<div class="mb-3">
						<input type="submit" class="btn btn-secondary w-100 text-light" value="Salvar alteração" />
					</div>
				</form>
				<div class="col-6">
					<a href="#" class="btn btn-primary w-100 text-light" data-bs-toggle="modal" data-bs-target="#form-modal">Mudar senha</a>
				</div>
				<form class="col-6 json" th:action="@{user/delete-account}" th:object="${user}" method="post">
					<div class="my-3">
						<input type="submit" class="btn btn-danger w-100 text-light" value="Deletar conta" />
					</div>
				</form>
			</div>
		</main>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
	</body>
</html>